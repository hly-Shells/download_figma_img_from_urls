#!/bin/bash
# figmad - Figma 图片下载命令行工具
# 支持：单张/批量 URL 下载、空间/文件全量下载（--space）
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# 检测 --space 模式，委托给空间下载脚本（并移除 --space/-S 参数）
SPACE_ARGS=()
FOUND_SPACE=0
for arg in "$@"; do
    if [ "$arg" = "--space" ] || [ "$arg" = "-S" ]; then
        FOUND_SPACE=1
    else
        SPACE_ARGS+=("$arg")
    fi
done

if [ "$FOUND_SPACE" = "1" ]; then
    exec python3 "$SCRIPT_DIR/download_figma_space.py" "${SPACE_ARGS[@]}"
fi

exec python3 "$SCRIPT_DIR/download_figma_image.py" "$@"
